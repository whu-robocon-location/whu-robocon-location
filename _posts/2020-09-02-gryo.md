---
layout: post
title: "光纤陀螺仪初步"
tags:
  - gyro
---


# 光纤陀螺仪
## 原理
## 基本概念
### 零偏、零漂
### 标度因数
### 随机游走系数
### 阈值和分辨率
### 带宽
## 测量
### 速度
#### 光束切断法（明暗测速）
#### 相关法（类似光束切断）
#### 接触辊法 （物理接触）
#### 皮托管法（利用流体压强）
#### 多普勒法（正/反向多普勒散射）
### 角速度测量
#### 陀螺仪基本原理（进动角速度）
### 转速
#### 数字式转速表：由传感器把转速转变成频率信号，再通过测量信号的频率或周期来测量转速
#### 转速传感器：被测转速转换成脉冲信号
### 加速度
#### 位移式、变磁阻式、霍尔式
## 陀螺仪核心器件
### y波导
* 1.原理：利用激光在沿着同一束光导纤维相反方向运动时光程的差距，计算旋转角速度

* 2.基本概念

**零偏**（bias stability）：陀螺静止时的输出，理想为地球自转角速度

**零漂**（零偏稳定性指标）：

（1）最重要的指标；

（2）由于温度（主要）、偏振等原因，导致输出量在标准值徘徊
**标度因数（scale factor）**：（1）O/I，衡量陀螺仪灵敏度；（2）1 bit所代表的比例值。range（num）/range（v) = scale factor
**随机游走系数**：表征Output白噪声大小，反映角速度积分对时间的不确定性
**阈值和分辨率**：最小输入角速率（AD值）、最小角速度增量（AD值）
带宽：（1）陀螺仪带宽是指陀螺仪能精确测量输入角速度的频率范围。由于噪声，陀螺仪将初始数据经过一个低通滤波器（LPF）过滤高频分量，这个低通滤波器的截止频率（3db带宽）通常就是陀螺仪带宽。通过设置陀螺仪的带宽（寄存器设置）可以设置采样率，进而确定了陀螺仪的数据输出频率。

（2）带宽越大，陀螺仪的动态响应能力越强，但是输出噪声也越大

## 陀螺仪核心器件
* 1.y波导：（1）光束的分波、合波、光调制器、干涉仪及光开关等光集成器件的基础

* 2.保偏光纤分束器（PMFS） ：保持光波偏振态的前提实现光波功率分束
* 3.超辐射发光二极管：有相位差的非相干波源
* 4.光接收组件（PIN-FET）：放大输入信号
* 5.CATV外调制器YBBM：（M-Z干涉调制 电光晶体的光波导折射率正比电场强度，调节电场强度引起经过波导光波的相位移动
* 6.直波导相位调制器SPM


# 关于单片机知识的一点补充
# ucos系统
## 组成模块
* 1.定义：基于ROM运行的、可裁剪的、抢占式、实时多任务内核，可移植的，适合于mini controller

1) 核心部分(OSCore.c) 是操作系统的处理核心，包括操作系统初始化、操作系统运行、中断进出的前导、时钟节拍（cpu分配的处理中断任务的频率）、任务调度、事件处理等多部分。能够维持系统基本工作的部分都在这里。

2) 任务处理部分(OSTask.c) 包括任务的建立、删除、挂起、恢复等等。因为μC/OS-II是以任务为基本单位调度的（配置任务优先级），所以这部分内容也相当重要。

3) 时钟部分(OSTime.c) μC/OS-II中的最小时钟单位是timetick(时钟节拍)。任务延时等操作是在这里完成的。

4) 任务同步和通信部分 为事件处理部分，包括信号量、邮箱、消息队列、事件标志等部分;主要用于任务间的互相联系和对临界资源的访问。

5) 与CPU的接口部分 是指μC/OS-II针对所使用的CPU的移植部分。由于μC/OS-II是一个通用性的操作系统，所以对于关键问题上的实现，还是需要根据具体CPU的具体内容和要求作相应的移植。这部分内容由于牵涉到SP等系统指针，所以通常用汇编语言编写。主要包括中断级任务切换的底层实现、任务级任务切换的底层实现、时钟节拍的产生和处理、中断的相关处理部分等内容。

## 复用和重映射：
I/O的复用：GPIO和内置外设共用引出管脚

I/O的重映射：复用功能（AFIO）从不同的GPIO管脚引出
Remap：一个外设的引脚除了具有默认的端口外，还可以通过设置重映射寄存器的方式，把这个外设的引脚映射到其它的端口。
AF：外设的外部引脚都是与GPIO复用的，当这个GPIO作为内置外设使用的时候，就叫做复用。一个GPIO如果可以复用为内置外设的功能引脚，那么当这个GPIO作为内置外设使用的时候，就叫做复用。

## can屏蔽
* 1.can分为滤波寄存器和接收屏蔽寄存器，滤波器寄存的相当于标准id，屏蔽寄存器中，0表示不关心，1表示关心；
* 2.寄存器始终读写二进制，而注释的时候会将数值写成16进制（0x00 ~ 0xff），因此看起来比较让人迷惑。寄存器似乎只有八位有效值，所以0x像是一个形式，真正的数值是后两位）
